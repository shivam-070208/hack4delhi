branch="$(git rev-parse --abbrev-ref HEAD)"
if [ "$branch" = "master" ]; then
  echo "âŒ Pushing directly to master branch is not allowed."
  exit 1
fi

echo "ğŸ”¨ Running build before push..."
npm run build
build_status=$?
if [ $build_status -ne 0 ]; then
  echo "âŒ Build failed. Aborting push."
  exit 1
fi
